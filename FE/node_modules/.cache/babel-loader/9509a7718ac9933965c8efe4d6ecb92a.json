{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/ich/MEGA/Entwicklung/FreeChess/repo/FreeChessRepo/FreeChess/FE/src/components/game.component.jsx\";\nimport React, { Component } from 'react';\nimport mainService from '../services/main.service';\nimport Canvas from './canvas.component';\nimport PieceComponent from './piece.component';\n\nclass GameComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      gameId: JSON.parse(localStorage.getItem(\"auth\")).gameId,\n      inviteLink: \"http://localhost:3000/joingame/\" + JSON.parse(localStorage.getItem(\"auth\")).gameId,\n      player1: {},\n      player2: {},\n      boardData: {},\n      // data from server\n      boardView: [],\n      // symbol, playertype, selected, canMoveTo\n      selectedField: {},\n      squareSize: 25\n    };\n    this.loadGameData();\n    this.loadBoard();\n    this.selectField = this.selectField.bind(this);\n  }\n\n  loadGameData() {\n    const {\n      gameId\n    } = this.state;\n    mainService.getGameData(gameId).then(res => {\n      //console.log(res.data);\n      this.setState({\n        player1: res.data.player1,\n        player2: res.data.player2\n      });\n    });\n  }\n\n  loadBoard() {\n    const {\n      gameId\n    } = this.state;\n    mainService.getBoard(gameId).then(res => {\n      let bv = res.data.board;\n\n      for (let i = 0; i < bv.length; i++) {\n        for (let j = 0; j < bv[0].length; j++) {\n          if (res.data.board[i][j] === null) {\n            bv[i][j] = {\n              selected: false,\n              canMoveTo: false,\n              symbol: \"\",\n              owner: \"\",\n              possibleMoves: []\n            };\n          } else {\n            bv[i][j] = {\n              selected: false,\n              canMoveTo: false,\n              symbol: bv[i][j].symbol,\n              owner: bv[i][j].owner,\n              possibleMoves: bv[i][j].possibleMoves\n            };\n          }\n        }\n      }\n\n      console.log(bv);\n      this.setState({\n        boardData: res.data,\n        boardView: bv,\n        width: bv[0].length,\n        height: bv.length\n      });\n    });\n  } // renderBoard() {\n  //     const {width,height} = this.state;\n  //     return(<table class=\"chess-board\">\n  //          <tbody>\n  //         {[...Array(height).keys()].map((y)=>\n  //         (<tr>\n  //             {[...Array(width).keys()].map((x)=>this.renderField(x,y))}</tr>))}\n  //         </tbody>\n  //         </table>);\n  // }\n  // renderField(x,y){\n  //     const {boardView,selectedField} = this.state;\n  //     let symbol = \"\";\n  //     let className = \"dark\";\n  //     let selected = false;\n  //     let canMove = false;\n  //     if((x+y) % 2===0){\n  //        className=\"white\"\n  //     }\n  //     if(selectedField.x===x && selectedField.y===y){\n  //         selected = true;\n  //         className=\"selected\";\n  //     }\n  //     if(JSON.stringify(boardView)!==\"[]\"){\n  //         symbol = boardView[y][x].symbol;\n  //         if(boardView[y][x].canMoveTo){\n  //             canMove = boardView[y][x].canMoveTo;\n  //             className=\"canmove\";\n  //         }\n  //     }\n  //     return (<td class={className} onClick={()=>this.selectField(x,y)} onMouseOver={()=>this.mouseOverField(x,y)}><PieceComponent symbol={symbol} selected={selected} canMove={canMove}></PieceComponent></td>);\n  // }\n\n\n  selectField(x, y) {\n    const {\n      boardView\n    } = this.state;\n    let newBoard = boardView;\n\n    if (boardView[y][x].canMoveTo) {//\n    }\n\n    const possibleMoves = newBoard[y][x].possibleMoves;\n\n    for (let i = 0; i < boardView.length; i++) {\n      for (let j = 0; j < boardView[0].length; j++) {\n        newBoard[i][j].canMoveTo = false;\n      }\n    }\n\n    for (let i = 0; i < possibleMoves.length; i++) {\n      newBoard[possibleMoves[i].y][possibleMoves[i].x].canMoveTo = true;\n      console.log(\"move: \", possibleMoves[i].x, \", \", possibleMoves[i].y);\n    }\n\n    this.setState({\n      boardView: newBoard,\n      selectedField: {\n        x: x,\n        y: y\n      }\n    }); //console.log(boardView);\n  }\n\n  removeMoveTos(boardView) {}\n\n  mouseOverField(x, y) {//    console.log(\"mouseOver:\",x,\",\",y);\n  }\n\n  clickOnCanvas(event) {\n    const rect = event.target.getBoundingClientRect();\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n    console.log(\"x: \" + x + \" y: \" + y);\n  }\n\n  render() {\n    const {\n      inviteLink,\n      player1,\n      player2,\n      squareSize,\n      boardView\n    } = this.state;\n    const height = 8;\n    const width = 8;\n    boardView.length;\n    boardView[0].length;\n    var ctx = null;\n\n    const draw = (ctx, frameCount) => {\n      // ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height)\n      // ctx.fillStyle = '#000000'\n      // ctx.beginPath()\n      // ctx.arc(250, 100, 80*Math.sin(frameCount*0.05)**2, 0, 2*Math.PI)\n      // ctx.fill()\n      // position of board's top left\n      const boardTopx = 25;\n      const boardTopy = 25;\n      ctx.canvas.width = squareSize * (width + 1);\n      ctx.canvas.height = squareSize * (height + 1);\n\n      for (let i = 0; i < width; i++) {\n        for (let j = 0; j < height; j++) {\n          ctx.fillStyle = (i + j) % 2 == 0 ? \"white\" : \"gray\";\n          let xOffset = boardTopx + j * squareSize;\n          let yOffset = boardTopy + i * squareSize;\n          ctx.fillRect(xOffset, yOffset, squareSize, squareSize); //                ctx.fillRect(Math.sin(i*0.2)*xOffset, Math.sin(j*frameCount*0.001)*yOffset, squareSize, squareSize);\n        }\n      } // draw the border around the chessboard\n\n\n      ctx.strokeStyle = \"black\";\n      ctx.strokeRect(boardTopx, boardTopy, squareSize * width, squareSize * height);\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [inviteLink, /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }, this), \"here is the Game: Player1: \", player1 && player1.name, \" \", player2 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [\"Player2: \", player2.name]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Canvas, {\n        draw: draw,\n        onClick: this.clickOnCanvas\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default GameComponent;","map":{"version":3,"sources":["/home/ich/MEGA/Entwicklung/FreeChess/repo/FreeChessRepo/FreeChess/FE/src/components/game.component.jsx"],"names":["React","Component","mainService","Canvas","PieceComponent","GameComponent","constructor","props","state","gameId","JSON","parse","localStorage","getItem","inviteLink","player1","player2","boardData","boardView","selectedField","squareSize","loadGameData","loadBoard","selectField","bind","getGameData","then","res","setState","data","getBoard","bv","board","i","length","j","selected","canMoveTo","symbol","owner","possibleMoves","console","log","width","height","x","y","newBoard","removeMoveTos","mouseOverField","clickOnCanvas","event","rect","target","getBoundingClientRect","clientX","left","clientY","top","render","ctx","draw","frameCount","boardTopx","boardTopy","canvas","fillStyle","xOffset","yOffset","fillRect","strokeStyle","strokeRect","name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport mainService from '../services/main.service';\nimport Canvas from './canvas.component';\nimport PieceComponent from './piece.component';\n\nclass GameComponent extends Component {\n\n\n    \n    constructor(props) {\n        super(props)\n\n        this.state = {\n            gameId: JSON.parse(localStorage.getItem(\"auth\")).gameId,\n            inviteLink: \"http://localhost:3000/joingame/\" + JSON.parse(localStorage.getItem(\"auth\")).gameId,\n            player1: {},\n            player2: {},\n            boardData: {}, // data from server\n            boardView: [], // symbol, playertype, selected, canMoveTo\n            selectedField:{},\n            squareSize: 25\n        }\n        this.loadGameData();\n        this.loadBoard();\n        this.selectField = this.selectField.bind(this);\n    }\n\n    loadGameData() {\n        const { gameId } = this.state;\n        mainService.getGameData(gameId).then((res) => {\n            //console.log(res.data);\n            this.setState({ player1: res.data.player1, player2: res.data.player2 });\n        });\n    \n    }\n\n    \n\n    loadBoard(){\n        const { gameId } = this.state;\n        mainService.getBoard(gameId).then((res) => {\n            let bv=res.data.board;\n            \n            for (let i = 0; i < bv.length; i++) {\n                for (let j = 0; j < bv[0].length; j++) {\n                    if(res.data.board[i][j]===null){\n                        bv[i][j]={selected:false,\n                            canMoveTo: false,\n                            symbol: \"\",\n                            owner: \"\",\n                            possibleMoves: []};\n                    } else {\n                        bv[i][j]={selected:false,\n                        canMoveTo: false,\n                        symbol: bv[i][j].symbol,\n                        owner: bv[i][j].owner,\n                        possibleMoves: bv[i][j].possibleMoves};\n                    }\n                }\n            }\n            console.log(bv);\n            this.setState({ boardData:res.data,boardView:bv,width:bv[0].length,height:bv.length});\n\n        });\n    }\n\n    // renderBoard() {\n    //     const {width,height} = this.state;\n\n    //     return(<table class=\"chess-board\">\n    //          <tbody>\n    //         {[...Array(height).keys()].map((y)=>\n    //         (<tr>\n    //             {[...Array(width).keys()].map((x)=>this.renderField(x,y))}</tr>))}\n    //         </tbody>\n    //         </table>);\n\n\n\n    // }\n\n    // renderField(x,y){\n    //     const {boardView,selectedField} = this.state;\n    //     let symbol = \"\";\n    //     let className = \"dark\";\n    //     let selected = false;\n    //     let canMove = false;\n\n    //     if((x+y) % 2===0){\n    //        className=\"white\"\n    //     }\n    //     if(selectedField.x===x && selectedField.y===y){\n    //         selected = true;\n    //         className=\"selected\";\n    //     }\n    //     if(JSON.stringify(boardView)!==\"[]\"){\n    //         symbol = boardView[y][x].symbol;\n    //         if(boardView[y][x].canMoveTo){\n    //             canMove = boardView[y][x].canMoveTo;\n    //             className=\"canmove\";\n    //         }\n    //     }\n\n    //     return (<td class={className} onClick={()=>this.selectField(x,y)} onMouseOver={()=>this.mouseOverField(x,y)}><PieceComponent symbol={symbol} selected={selected} canMove={canMove}></PieceComponent></td>);\n    // }\n\n    selectField(x,y){\n        const {boardView} =this.state;\n        let newBoard=boardView;\n        if(boardView[y][x].canMoveTo){\n            //\n        }\n        const possibleMoves =newBoard[y][x].possibleMoves; \n        for (let i = 0; i < boardView.length; i++) {\n            for (let j = 0; j < boardView[0].length; j++) {\n                newBoard[i][j].canMoveTo=false;\n            }\n        }\n\n        for(let i=0;i<possibleMoves.length;i++){\n            newBoard[possibleMoves[i].y][possibleMoves[i].x].canMoveTo = true;\n            console.log(\"move: \",possibleMoves[i].x, \", \", possibleMoves[i].y);\n        }\n        this.setState({boardView:newBoard, selectedField:{x:x,y:y}});\n        //console.log(boardView);\n    }\n\n    removeMoveTos(boardView){\n\n    }\n\n    mouseOverField(x,y){\n        //    console.log(\"mouseOver:\",x,\",\",y);\n    }\n\n\n    clickOnCanvas(event){\n        const rect = event.target.getBoundingClientRect()\n        const x = event.clientX - rect.left\n        const y = event.clientY - rect.top\n        console.log(\"x: \" + x + \" y: \" + y)\n    }\n\n\n    render() {\n        const { inviteLink, player1, player2 ,squareSize,boardView} = this.state;\n        \n        const height = 8;\n        const width = 8;\n        \n        boardView.length;\n        boardView[0].length;\n        \n        var ctx = null;\n\n        const draw = (ctx, frameCount) => {\n            // ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height)\n            // ctx.fillStyle = '#000000'\n\n            // ctx.beginPath()\n            // ctx.arc(250, 100, 80*Math.sin(frameCount*0.05)**2, 0, 2*Math.PI)\n            // ctx.fill()\n            // position of board's top left\n            const boardTopx = 25;\n            const boardTopy = 25;\n\n            ctx.canvas.width=squareSize*(width+1)\n            ctx.canvas.height=squareSize*(height+1)\n            for(let i=0; i<width; i++) {\n              for(let j=0; j<height; j++) {\n                ctx.fillStyle = ((i+j)%2==0) ? \"white\":\"gray\";\n                let xOffset = boardTopx + j*squareSize;\n                let yOffset = boardTopy + i*squareSize;\n                ctx.fillRect(xOffset, yOffset, squareSize, squareSize);\n//                ctx.fillRect(Math.sin(i*0.2)*xOffset, Math.sin(j*frameCount*0.001)*yOffset, squareSize, squareSize);\n              }\n            }\n            // draw the border around the chessboard\n            ctx.strokeStyle = \"black\";\n            ctx.strokeRect(boardTopx, boardTopy, squareSize*width, squareSize*height)\n\n\n          }\n          \n        return (\n            <div>\n                {inviteLink}\n                <div></div>\n                here is the Game: Player1: {player1 && player1.name} {player2 && <>Player2: {player2.name}</>}\n                <div></div>\n            <Canvas draw={draw} onClick={this.clickOnCanvas} />\n            </div>\n        )\n    }\n}\n\nexport default GameComponent"]},"metadata":{},"sourceType":"module"}