{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/ich/MEGA/Entwicklung/FreeChess/repo/FreeChessRepo/FreeChess/FE/src/components/game.component.jsx\";\nimport React, { Component } from 'react';\nimport mainService from '../services/main.service';\n\nclass GameComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      gameId: JSON.parse(localStorage.getItem(\"auth\")).gameId,\n      inviteLink: \"http://localhost:3000/joingame/\" + JSON.parse(localStorage.getItem(\"auth\")).gameId,\n      player1: {},\n      player2: {},\n      width: 16,\n      height: 16,\n      board: {},\n      selectedField: {}\n    };\n  }\n\n  componentDidMount() {\n    const {\n      gameId\n    } = this.state;\n    mainService.getGameData(gameId).then(res => {\n      console.log(res.data);\n      this.setState({\n        player1: res.data.player1,\n        player2: res.data.player2\n      });\n    });\n    mainService.getBoard(gameId).then(res => {\n      console.log(\"board:\", res.data);\n      this.setState({\n        board: res.data\n      });\n    });\n  } // loadBoard(){\n  //     mainService.getBoard(gameId).then((res) => {\n  //         console.log(res.data);\n  //         this.setState({ board:res.data });\n  //         // -> hier eigentlich komplete game\n  //     });\n  // }\n\n\n  renderBoard() {\n    const {\n      width,\n      height\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"table\", {\n      class: \"chess-board\",\n      children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [...Array(width).keys()].map(x => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [...Array(height).keys()].map(y => this.renderField(x, y))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 14\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 14\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 16\n    }, this);\n  }\n\n  renderField(x, y) {\n    const {\n      board,\n      selectedField\n    } = this.state;\n    let symbol = \"\";\n    let className = \"dark\";\n\n    if (board.board) {\n      if (board.board[x][y] !== null) {\n        symbol = board.board[x][y].symbol;\n      }\n    }\n\n    if ((x + y) % 2 === 0) {\n      className = \"white\";\n    }\n\n    if (selectedField.x === x && selectedField.y === y) {}\n\n    return /*#__PURE__*/_jsxDEV(\"td\", {\n      class: className,\n      style: {},\n      onClick: () => this.selectField(x, y),\n      onMouseOver: () => this.mouseOverField(x, y),\n      children: symbol\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }, this);\n  }\n\n  selectField(x, y) {\n    console.log(\"selected:\", x, \",\", y);\n    this.setState({\n      selectedField: {\n        x: x,\n        y: y\n      }\n    });\n  }\n\n  mouseOverField(x, y) {\n    console.log(\"mouseOver:\", x, \",\", y);\n  }\n\n  render() {\n    const {\n      inviteLink,\n      player1,\n      player2\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [inviteLink, /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this), \"here is the Game: Player1: \", player1 && player1.name, \" \", player2 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [\"Player2: \", player2.name]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"centered\",\n          children: this.renderBoard()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default GameComponent;","map":{"version":3,"sources":["/home/ich/MEGA/Entwicklung/FreeChess/repo/FreeChessRepo/FreeChess/FE/src/components/game.component.jsx"],"names":["React","Component","mainService","GameComponent","constructor","props","state","gameId","JSON","parse","localStorage","getItem","inviteLink","player1","player2","width","height","board","selectedField","componentDidMount","getGameData","then","res","console","log","data","setState","getBoard","renderBoard","Array","keys","map","x","y","renderField","symbol","className","selectField","mouseOverField","render","name","display","justifyContent"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport mainService from '../services/main.service';\n\nclass GameComponent extends Component {\n\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            gameId: JSON.parse(localStorage.getItem(\"auth\")).gameId,\n            inviteLink: \"http://localhost:3000/joingame/\" + JSON.parse(localStorage.getItem(\"auth\")).gameId,\n            player1: {},\n            player2: {},\n            width:16,\n            height:16,\n            board: {},\n            selectedField:{}\n        }\n    }\n\n    componentDidMount() {\n        const { gameId } = this.state;\n        mainService.getGameData(gameId).then((res) => {\n            console.log(res.data);\n            this.setState({ player1: res.data.player1, player2: res.data.player2 });\n        });\n        mainService.getBoard(gameId).then((res) => {\n            console.log(\"board:\" ,res.data);\n            this.setState({ board:res.data });\n\n        });\n    }\n\n    // loadBoard(){\n    //     mainService.getBoard(gameId).then((res) => {\n    //         console.log(res.data);\n    //         this.setState({ board:res.data });\n    //         // -> hier eigentlich komplete game\n    //     });\n    // }\n\n\n\n    renderBoard() {\n        const {width,height} = this.state;\n\n        return(<table class=\"chess-board\">\n             <tbody>\n            {[...Array(width).keys()].map((x)=>\n            (<tr>\n                {[...Array(height).keys()].map((y)=>this.renderField(x,y))}</tr>))}\n            </tbody>\n            </table>);\n\n\n\n    }\n\n    renderField(x,y){\n        const {board,selectedField} = this.state;\n        let symbol = \"\";\n        let className = \"dark\";\n        if(board.board){\n            if(board.board[x][y]!==null){\n                symbol = board.board[x][y].symbol;\n            }\n        }\n        if((x+y) % 2===0){\n           className=\"white\"\n        }\n        if(selectedField.x===x && selectedField.y===y){\n\n        }\n\n        return (<td class={className} style={{}} onClick={()=>this.selectField(x,y)} onMouseOver={()=>this.mouseOverField(x,y)}>{symbol}</td>);\n    }\n\n    selectField(x,y){\n        console.log(\"selected:\",x,\",\",y);\n        this.setState({selectedField:{x:x,y:y}});\n    }\n\n    mouseOverField(x,y){\n            console.log(\"mouseOver:\",x,\",\",y);\n    }\n\n\n    render() {\n        const { inviteLink, player1, player2 } = this.state;\n        return (\n            <div>\n                {inviteLink}\n                <div></div>\n                here is the Game: Player1: {player1 && player1.name} {player2 && <>Player2: {player2.name}</>}\n                <div></div>\n\n                <div style={{display: 'flex', justifyContent: 'center'}}>\n                <div className=\"centered\">\n                    {this.renderBoard()}\n                </div>\n</div>\n\n                \n            </div>\n        )\n    }\n}\n\nexport default GameComponent"]},"metadata":{},"sourceType":"module"}